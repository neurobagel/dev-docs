
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Internal docs on topics relevant for developing and maintaining Neurobagel">
      
      
      
      
        <link rel="prev" href="../Cypress%20Vue%20Testing/">
      
      
        <link rel="next" href="../Cypress%20Tasks/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/logo/neurobagel_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Cypress Snippets - Neurobagel Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="cyan" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cypress-unit-testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Neurobagel Developer Documentation" class="md-header__button md-logo" aria-label="Neurobagel Developer Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo/neurobagel_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Neurobagel Developer Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cypress Snippets
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/neurobagel/dev-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Neurobagel Developer Documentation" class="md-nav__button md-logo" aria-label="Neurobagel Developer Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo/neurobagel_logo.png" alt="logo">

    </a>
    Neurobagel Developer Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/neurobagel/dev-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Process & Governance
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Process & Governance
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../process/How%20we%20work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How we work
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../process/Neurobagel%20Release%20process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../process/Neurobagel%20Code%20of%20Conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../process/Neurobagel%20PATs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Personal Access Tokens (PATs)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development & Tooling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development & Tooling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tools overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/Git%20Tricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/Version%20compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version compatibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Frontend & UI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Frontend & UI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/Query%20Tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Tool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/Query%20Tool%20Result%20File%20Generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Tool: Result file generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/Nuxt%20Tricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nuxt tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/Vite%20tricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vite tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/CSS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/React/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    React
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/Zustand/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zustand
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Testing & CI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Testing & CI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Cypress%20Vue%20Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cypress Vue testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Cypress snippets
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Cypress snippets
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cypress-unit-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypress unit testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cypress unit testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unit-test-a-store-mutation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit test a store mutation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-test-a-store-getter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit test a store getter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cypress-component-test-snippets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypress Component test snippets
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cypress Component test snippets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pass-info-into-the-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass Info Into the Component
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pass Info Into the Component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-a-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Import a Component
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-prop" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Prop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Import Plugins
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-vuex-getter-that-takes-an-argument-or-simulating-a-mapgetters-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Vuex Getter that Takes an Argument (or Simulating a mapGetters Field)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-vuex-state-field-or-simulating-a-mapstate-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Vuex State Field (or Simulating a mapState Field)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mock-a-zustand-store-inside-a-react-component-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mock a Zustand store inside a React component test
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respond-to-information-coming-out-of-the-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Respond to information coming out of the component
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Respond to information coming out of the component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listen-to-a-vuex-state-mutation-being-committed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen to a Vuex State Mutation Being Committed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-to-a-vuex-state-action-being-dispatched" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen to a Vuex State Action Being Dispatched
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-that-a-specific-payload-was-sent-with-the-mutation-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check that a Specific Payload was Sent with the Mutation / Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-for-an-emitted-event" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen for an emitted event
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-an-emitted-events-payload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check an emitted event's payload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-for-a-method-call" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen for a method call
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-a-method-calls-payload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check a method call's payload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-different-responses-based-on-a-condition-when-intercepting-requests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Provide different responses based on a condition when intercepting requests
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stubbing-a-function-from-an-external-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stubbing a function from an external dependency
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Cypress%20Tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cypress tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment & Infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment & Infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Dockerized%20NGINX%20deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dockerized NGINX deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Apache%20Jena%20Fuseki%20Deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apache Jena / Fuseki
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Legacy%20Stardog%20graph%20backend%20deployment%20instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Legacy Stardog setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Fabrique%20%28vGPU%20prep%20and%20other%20issues%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fabrique (vGPU notes)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Setting%20up%20SSH%20keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Add public key for users
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/Node-upgrade-after-release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nodes to redeploy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Backend & Security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Backend & Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/Keycloak/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Keycloak (Auth)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/OAuth%20_%20OIDC%20dump/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OAuth / OIDC notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/BIC%20node%20federation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BIC node federation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data model & Troubleshooting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data model & Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/Limitations%20of%20Neurobagel%20data%20model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Limitations of Neurobagel data model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/Troubleshooting%20erroneous%20HC_Diagnosis%20query%20results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting HC_Diagnosis query results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cypress-unit-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypress unit testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cypress unit testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unit-test-a-store-mutation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit test a store mutation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-test-a-store-getter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit test a store getter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cypress-component-test-snippets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cypress Component test snippets
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cypress Component test snippets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pass-info-into-the-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass Info Into the Component
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pass Info Into the Component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-a-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Import a Component
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-prop" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Prop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Import Plugins
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-vuex-getter-that-takes-an-argument-or-simulating-a-mapgetters-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Vuex Getter that Takes an Argument (or Simulating a mapGetters Field)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass-a-vuex-state-field-or-simulating-a-mapstate-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pass a Vuex State Field (or Simulating a mapState Field)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mock-a-zustand-store-inside-a-react-component-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mock a Zustand store inside a React component test
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#respond-to-information-coming-out-of-the-component" class="md-nav__link">
    <span class="md-ellipsis">
      
        Respond to information coming out of the component
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Respond to information coming out of the component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listen-to-a-vuex-state-mutation-being-committed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen to a Vuex State Mutation Being Committed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-to-a-vuex-state-action-being-dispatched" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen to a Vuex State Action Being Dispatched
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-that-a-specific-payload-was-sent-with-the-mutation-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check that a Specific Payload was Sent with the Mutation / Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-for-an-emitted-event" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen for an emitted event
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-an-emitted-events-payload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check an emitted event's payload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listen-for-a-method-call" class="md-nav__link">
    <span class="md-ellipsis">
      
        Listen for a method call
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-a-method-calls-payload" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check a method call's payload
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-different-responses-based-on-a-condition-when-intercepting-requests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Provide different responses based on a condition when intercepting requests
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stubbing-a-function-from-an-external-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stubbing a function from an external dependency
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Cypress snippets</h1>

<h2 id="cypress-unit-testing">Cypress unit testing</h2>
<p>Aside from browser-based testing, cypress is also just a neat test runner for other JS testing libraries. 
So we can use it to run unit tests. 
This is useful for testing store methods like getters and mutations that don't have any UI elements.</p>
<p>All of the information below is taken from this very cool blog post: <a href="https://dev.to/bahmutov/unit-testing-vuex-data-store-using-cypress-io-test-runner-3g4n">https://dev.to/bahmutov/unit-testing-vuex-data-store-using-cypress-io-test-runner-3g4n</a>
The vuex testing docs are also good: <a href="https://vuex.vuejs.org/guide/testing.html">https://vuex.vuejs.org/guide/testing.html</a> and because cypress is just the test runner, we can use the syntax of the tests from there directly as well.</p>
<h3 id="unit-test-a-store-mutation">Unit test a store mutation</h3>
<p>If our mutation is called <code>increment</code> like so:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">mutations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nx">increment</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mutations</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../../src/counter&#39;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;mutations&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="nx">context</span><span class="p">(</span><span class="s1">&#39;increment&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">increment</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mutations</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;INCREMENT&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">      </span><span class="nx">increment</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">      </span><span class="c1">// see https://on.cypress.io/assertions</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">      </span><span class="c1">// for &quot;expect&quot; examples</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="p">})</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="p">})</span>
</span></code></pre></div>
<h3 id="unit-test-a-store-getter">Unit test a store getter</h3>
<p>If we have defined a store getter like so
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">getters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nx">myGetter</span><span class="w"> </span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="nx">someArg</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">someVariable</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s2">&quot;someLogic&quot;</span><span class="p">)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">}</span>
</span></code></pre></div></p>
<p>Then we can test the getter like so:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getters</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./getters&#39;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;getters&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;filteredProducts&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="c1">// mock state</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">      </span><span class="nx">someVariable</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fruit&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Orange&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fruit&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Carrot&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;vegetable&#39;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">      </span><span class="p">]</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">    </span><span class="c1">// mock getter</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">filterCategory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fruit&#39;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">    </span><span class="c1">// get the result from the getter</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getters</span><span class="p">.</span><span class="nx">filteredProducts</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">filterCategory</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="c1">// assert the result</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">    </span><span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">([</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fruit&#39;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Orange&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fruit&#39;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">    </span><span class="p">])</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">  </span><span class="p">})</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="p">})</span>
</span></code></pre></div>
<p>See also: <a href="https://vuex.vuejs.org/guide/testing.html#testing-getters">https://vuex.vuejs.org/guide/testing.html#testing-getters</a></p>
<h2 id="cypress-component-test-snippets">Cypress Component test snippets</h2>
<p>Cypress mounts the component using the <a href="https://v1.test-utils.vuejs.org/">vue-test-utils</a> library.
That means, even if the Cypress documentation doesn't say so,
you can use anything that the <code>vue-test-utils</code> documentation has
enabled. </p>
<p>For example, Cypress doesn't tell you how to write <code>listeners</code> for
events emitted by your component, but you can look up in the 
<a href="https://v1.test-utils.vuejs.org/api/options.html">vue-test-utils docs</a> how to do it.</p>
<p>Also take a look at:
- the <a href="https://docs.cypress.io/guides/component-testing/quickstart-vue">Cypress component test docs</a> (somewhat incomplete)
- <a href="https://v1.test-utils.vuejs.org/api/#mount">vue-test-utils mount docs</a> (Recall that Cypress has a slightly different syntax for assertions, using the <code>cy.xyz()</code> commands.)
- the <a href="https://lmiller1990.github.io/vue-testing-handbook/vuex-in-components.html">Vue testing handbook</a> (This has some nice patterns, but is not specifically for Cypress.)</p>
<p>Also note that we are using Vue2 (specifically Nuxt2) and that many docs now start assuming that you use Vue3 (and thus different store libraries, component APIs, test library version, etc). So sometimes examples may be written for Vue3 and not work for us on Vue2.</p>
<h3 id="pass-info-into-the-component">Pass Info Into the Component</h3>
<p>When a component relies on information being passed to it by other parts of the app, then we need to:
1. Simulate ("mock") this information when the component is tested
in isolation during a component test. 
2. Pass the simulated information to the component in a way that 
looks as if it came from the expected source.</p>
<p>Components in Vue can receive information in a number of different ways:
- as props
- via <code>provide</code> / <code>inject</code>
- from a global store
- ...</p>
<p>Below are examples for how you can mock each of these and pass them to the 
component during a component test.</p>
<h4 id="import-a-component">Import a Component</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">ComponentName</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;~/components/component-name.vue&quot;</span><span class="p">;</span>
</span></code></pre></div>
<h4 id="pass-a-prop">Pass a Prop</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nx">propsData</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="nx">myProp</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;hasSomeValue&quot;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">});</span>
</span></code></pre></div>
<h4 id="import-plugins">Import Plugins</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bootstrap-vue&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;vue-select&quot;</span><span class="p">]</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">});</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="err">####</span><span class="w"> </span><span class="nx">Pass</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">Vuex</span><span class="w"> </span><span class="nx">Getter</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="sb">```javascript</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="sb">cy.mount(ComponentName, {  </span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="sb">    computed: {</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="sb">        myGetter: () =&gt; {</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="sb">            return &quot;myGetterValue&quot;;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="sb">        }</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="sb">    }</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="sb">});</span>
</span></code></pre></div>
<h4 id="pass-a-vuex-getter-that-takes-an-argument-or-simulating-a-mapgetters-field">Pass a Vuex Getter that Takes an Argument (or Simulating a mapGetters Field)</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="nx">computed</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">        </span><span class="nx">myGetter</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nx">myGetterArgument</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">myReturnValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">doSomethingWith</span><span class="p">(</span><span class="nx">myGetterArgument</span><span class="p">);</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">myReturnValue</span><span class="p">;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">);</span>
</span></code></pre></div>
<p><strong>Note</strong>: It is usually better to completely mock the return value of 
a getter rather than trying to import the getter from the store.
This is for three reasons:</p>
<ol>
<li>Getters in Vuex take iterative inputs (<a href="https://github.com/neurobagel/annotation_tool/blob/a5f85a9a8e1a97d6f13c525e59f4b1c1c75dfc4d/store/index.js#L300C2-L308">see e.g. here</a>)
in the store and unit tests (<a href="https://github.com/neurobagel/annotation_tool/blob/a5f85a9a8e1a97d6f13c525e59f4b1c1c75dfc4d/cypress/unit/store-getter-getColumnDescription.cy.js#L19">see here</a>)
<strong>but</strong> when we use them in components they behave like regular functions (<a href="https://github.com/neurobagel/annotation_tool/blob/a5f85a9a8e1a97d6f13c525e59f4b1c1c75dfc4d/components/column-linking-table.vue#L67">see here</a>). 
If we import a getter during non-e2e testing (i.e. when the app is not running),
we would first have to turn the getter into a regular function ourselves
by passing an also mocked store object to it.</li>
<li>Getter can have other getters as dependencies. 
Not only will all of these getters have to be made into normal functions
as well, but so do their dependencies in turn, and so on.
Additionally all of these getters depend on different parts of the 
store to be mocked, so we can quickly approach a situation where
we are almost mocking the entire app at runtime, just to make a 
component test "easier".</li>
<li>Importing getters is less readable than just showing what
information the mocked getter will give to the component.
This is maybe the most important reason, because readability
is key for our tests.</li>
</ol>
<p><strong>In short</strong>: mock getters as simple return objects everywhere.
The only exception is when you are unit-testing the getter itself.</p>
<h4 id="pass-a-vuex-state-field-or-simulating-a-mapstate-field">Pass a Vuex State Field (or Simulating a mapState Field)</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="nx">mocks</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">        </span><span class="nx">$store</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">            </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">myStateField</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;myStateValue&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">});</span>
</span></code></pre></div>
<h4 id="mock-a-zustand-store-inside-a-react-component-test">Mock a Zustand store inside a React component test</h4>
<p>Some of our React component tests rely on Zustand stores for their data.
You can manipulate the store directly from Cypress by calling the store's <code>setState</code>
inside a <code>cy.then</code>, which guarantees the state change runs in sequence with the Cypress command queue.</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useFreshDataStore</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;~/stores/useFreshDataStore&quot;</span><span class="p">;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should show unavailable message when selected column data is missing&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">ValueAnnotation</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;[data-cy=&quot;side-column-nav-bar-unannotated&quot;]&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;[data-cy=&quot;side-column-nav-bar-other-select-button&quot;]&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="nx">cy</span><span class="p">.</span><span class="nx">then</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="nx">useFreshDataStore</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">updatedColumns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="nx">state</span><span class="p">.</span><span class="nx">columns</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">      </span><span class="ow">delete</span><span class="w"> </span><span class="nx">updatedColumns</span><span class="p">[</span><span class="s2">&quot;6&quot;</span><span class="p">];</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">        </span><span class="p">...</span><span class="nx">state</span><span class="p">,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">        </span><span class="nx">columns</span><span class="o">:</span><span class="w"> </span><span class="nx">updatedColumns</span><span class="p">,</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">  </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;[data-cy=&quot;column-data-unavailable&quot;]&#39;</span><span class="p">)</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">    </span><span class="p">.</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;be.visible&quot;</span><span class="p">)</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">    </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="s2">&quot;contain&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Selected column data is unavailable.&quot;</span><span class="p">);</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="respond-to-information-coming-out-of-the-component">Respond to information coming out of the component</h3>
<p>Components may have to send information to other parts of the app when certain events occur
or conditions are met. When the component is tested in isolation during a component test,
these other parts of the app don't exist. However, during a component test we only care about the component.
So the only thing we need to test is that the component emits the right type of information
in the right situations. We don't have to simuate other parts and how they would respond to 
this information (this is done during full integration tests instead). </p>
<p>As with passing data to components, there are different ways data can come out of components:</p>
<ul>
<li>emitted events</li>
<li>store mutations and actions</li>
</ul>
<p>Below are some snippets for how you can listen to these types of data flows in a component test.</p>
<h4 id="listen-to-a-vuex-state-mutation-being-committed">Listen to a Vuex State Mutation Being Committed</h4>
<p><div class="language-javascript highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">mockStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nx">commit</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="p">};</span><span class="w">  </span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">(</span><span class="nx">mockStore</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;commit&quot;</span><span class="p">).</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;commitSpy&quot;</span><span class="p">);</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="nx">mocks</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="nx">$store</span><span class="o">:</span><span class="w"> </span><span class="nx">mockStore</span><span class="w">  </span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="p">});</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span><span class="w"> </span><span class="c1">// Or, do something to evoke the mutation</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@commitSpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.calledOnce&quot;</span><span class="p">);</span>
</span></code></pre></div>
You can chain assertions off of <code>should</code>, see <a href="https://docs.cypress.io/guides/references/assertions#Sinon-Chai">the docs</a>.</p>
<h4 id="listen-to-a-vuex-state-action-being-dispatched">Listen to a Vuex State Action Being Dispatched</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">mockStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="nx">dispatch</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="p">};</span><span class="w">  </span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">(</span><span class="nx">mockStore</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;dispatch&quot;</span><span class="p">).</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;dispatchSpy&quot;</span><span class="p">);</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span><span class="nx">mocks</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">        </span><span class="nx">$store</span><span class="o">:</span><span class="w"> </span><span class="nx">mockStore</span><span class="w">  </span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="p">});</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span><span class="w"> </span><span class="c1">// Or, do something to evoke the mutation</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@commitSpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.calledOnce&quot;</span><span class="p">);</span>
</span></code></pre></div>
<h4 id="check-that-a-specific-payload-was-sent-with-the-mutation-action">Check that a Specific Payload was Sent with the Mutation / Action</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">mockStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nx">commit</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">};</span><span class="w">  </span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">(</span><span class="nx">mockStore</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;commit&quot;</span><span class="p">).</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;commitSpy&quot;</span><span class="p">);</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="nx">mocks</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">        </span><span class="nx">$store</span><span class="o">:</span><span class="w"> </span><span class="nx">mockStore</span><span class="w">  </span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="p">});</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span><span class="w"> </span><span class="c1">// Or, do something to evoke the mutation</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@commitSpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.calledWith&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;myMutationName&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">    </span><span class="nx">payloadField</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;payLoadValue&quot;</span><span class="p">});</span>
</span></code></pre></div>
<h4 id="listen-for-an-emitted-event">Listen for an emitted event</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">mySpy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">().</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;mySpy&quot;</span><span class="p">);</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nx">listeners</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="nx">emitEventName</span><span class="o">:</span><span class="w"> </span><span class="nx">mySpy</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="p">});</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1">// Perform an interaction to evoke the emit</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`.&lt;class-name&gt;`</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="c1">// Check to see if emit was called</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@mySpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.called&quot;</span><span class="p">);</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="c1">// Something to note is that &#39;emitEventName&#39; must maintain the type of case used by the component (i.e. kebab-case, or camel case)</span>
</span></code></pre></div>
<h4 id="check-an-emitted-events-payload">Check an emitted event's payload</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">mySpy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">().</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;mySpy&quot;</span><span class="p">);</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="nx">listeners</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">        </span><span class="nx">emitEventName</span><span class="o">:</span><span class="w"> </span><span class="nx">mySpy</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="p">});</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1">// Perform an interaction to evoke the emit</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`.&lt;class-name&gt;`</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="c1">// Check to see if emit was called with the correct payload</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@mySpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.calledWith&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="nx">payloadField</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;payLoadValue&quot;</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="p">});</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="c1">// Something to note is that &#39;emitEventName&#39; must maintain the type of case used by the component (i.e. kebab-case, or camel case)</span>
</span></code></pre></div>
<h4 id="listen-for-a-method-call">Listen for a method call</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">.</span><span class="nx">methods</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;methodName&#39;</span><span class="p">).</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;mySpy&quot;</span><span class="p">);</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">);</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">// Perform an interaction to evoke the method</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`.&lt;class-name&gt;`</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c1">// Check to see if method was called</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@mySpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.called&quot;</span><span class="p">);</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c1">// Something to note is that &#39;methodName&#39; must maintain the type of case used by the component (i.e. kebab-case, or camel case)</span>
</span></code></pre></div>
<h4 id="check-a-method-calls-payload">Check a method call's payload</h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// Given methodName(value-1, value-2)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">spy</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">.</span><span class="nx">methods</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;methodName&#39;</span><span class="p">).</span><span class="kr">as</span><span class="p">(</span><span class="s2">&quot;mySpy&quot;</span><span class="p">);</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="nx">ComponentName</span><span class="p">);</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="c1">// Perform an interaction to evoke the method</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`.&lt;class-name&gt;`</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="c1">// Check to see if method was called</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;@mySpy&quot;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s2">&quot;have.been.called&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;value-1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;value-2&quot;</span><span class="p">);</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="c1">// Something to note is that &#39;methodName&#39; must maintain the type of case used by the component (i.e. kebab-case, or camel case)</span>
</span></code></pre></div>
<h4 id="provide-different-responses-based-on-a-condition-when-intercepting-requests">Provide different responses based on a condition when intercepting requests</h4>
<p>The following snippet is from <code>Checkbox.cy.js</code> in the query tool. When the <code>submitQuery</code> button is clicked for the first time the condition <code>isFirstClick</code> is set to false and <code>response</code> is replied by <code>cy.intercept</code> and thereafter every click of the <code>submitQuery</code> button will result in <code>response2</code> being replied.</p>
<div class="language-JavaScript highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">let</span><span class="w"> </span><span class="nx">isFirstClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">intercept</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;query/*&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isFirstClick</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="nx">isFirstClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="nx">response2</span><span class="p">);</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="p">});</span>
</span></code></pre></div>
<h2 id="miscellaneous">Miscellaneous</h2>
<h3 id="stubbing-a-function-from-an-external-dependency">Stubbing a function from an external dependency</h3>
<p>Context: In the code we're using compile method Ajv library to validate a data dictionary against a schema.
In order to mock an invalid result from the validation we:</p>
<ul>
<li>create a stub function to replace the validation function returned by <code>Ajv.prototype.compile</code></li>
<li>add mock validation errors to the <code>errors</code> property of the stub function</li>
<li>stub the <code>Ajv.prototype</code> to replace <code>compile</code> with our stub function created earlier</li>
</ul>
<div class="language-TypeScript highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">validateStub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">cy</span><span class="p">.</span><span class="nx">stub</span><span class="p">().</span><span class="nx">returns</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">ValidateFunction</span><span class="p">;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nx">validateStub</span><span class="p">.</span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">instancePath</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/column1&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">instancePath</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/column2&#39;</span><span class="w"> </span><span class="p">}];</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="nx">cy</span><span class="p">.</span><span class="nx">stub</span><span class="p">(</span><span class="nx">Ajv</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;compile&#39;</span><span class="p">).</span><span class="nx">callsFake</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">validateStub</span><span class="p">);</span>
</span></code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Cypress%20Vue%20Testing/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Cypress Vue testing">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Cypress Vue testing
              </div>
            </div>
          </a>
        
        
          
          <a href="../Cypress%20Tasks/" class="md-footer__link md-footer__link--next" aria-label="Next: Cypress tasks">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Cypress tasks
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>